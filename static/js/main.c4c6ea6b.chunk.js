(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{29:function(n,e,t){},30:function(n,e,t){"use strict";t.r(e);var r,a=t(0),o=t(14),c=t.n(o),i=t(12),s=t(4),l=t(42),d=t(43),b=t(5);const g=b.a.li(r||(r=Object(s.a)(["\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  &.selected {\n    background-color: slategray;\n    background: linear-gradient(to right, white -100%, #323b44 78%);\n    color: white;\n    font-weight: bold;\n    cursor: pointer;\n  }\n\n  .col {\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    p {\n      padding: 10px 20px;\n    }\n\n    img {\n      height: 50px;\n      margin: 5px 0px 5px 5px;\n    }\n  }\n\n  .play-btn {\n    background: transparent;\n    padding: 0 20px 0 15px;\n    color: white;\n    border: none;\n    cursor: pointer;\n    outline: none;\n  }\n"])));var p=t(1);function u({song:n,isCurrent:e,onSelect:t,isPaused:r,onPlayBtn:a,currentTime:o}){return Object(p.jsxs)(g,{className:"".concat(e?"selected":null),onClick:function(){t(n)},children:[Object(p.jsxs)("div",{className:"col",children:[Object(p.jsx)("img",{src:n.coverUrl}),Object(p.jsxs)("p",{children:[n.title," by ",n.artist]})]}),e&&Object(p.jsxs)("div",{className:"col",children:[Object(p.jsx)("span",{children:o}),Object(p.jsx)("button",{className:"play-btn",onClick:a,children:r?Object(p.jsx)(l.a,{}):Object(p.jsx)(d.a,{})})]})]})}var x,j=t(44),h=t(45),O=t(2);const f=b.a.div(x||(x=Object(s.a)(["\n  --progress-bar-height: 4px;\n\n  position: relative;\n  width: 100%;\n  background: transparent;\n\n  .range {\n    -webkit-appearance: none;\n    background-color: rgba(240, 9, 9, 0.397);\n    height: 10px;\n    width: 100%;\n    cursor: pointer;\n    opacity: 0;\n    margin: 0 auto;\n  }\n\n  &::before {\n    content: '';\n    background-color: slategrey;\n    width: 99%;\n    height: calc(var(--progress-bar-height) - 1px);\n    display: block;\n    position: absolute;\n    border-radius: 10px;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    pointer-events: none;\n  }\n\n  .cover {\n    background-color: rgb(218, 55, 145);\n    width: 0%;\n    height: var(--progress-bar-height);\n    display: block;\n    position: absolute;\n    border-radius: 10px;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n\n  .thumb {\n    width: 20px;\n    height: 20px;\n    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.753);\n    background: rgb(255, 255, 255);\n    position: absolute;\n    border-radius: 50%;\n    top: 50%;\n    transform: translate(0%, -50%);\n  }\n"])));function m({percentage:n=0,onChange:e}){const t=Object(a.useState)(0),r=Object(O.a)(t,2),o=r[0],c=r[1],i=Object(a.useState)(0),s=Object(O.a)(i,2),l=s[0],d=s[1],b=Object(a.useState)(0),g=Object(O.a)(b,2),u=g[0],x=g[1],j=Object(a.useRef)(),h=Object(a.useRef)();return Object(a.useEffect)((()=>{const e=j.current.getBoundingClientRect().width,t=h.current.getBoundingClientRect().width,r=t/100*n*-1,a=t+e/100*n-t/100*n;c(n),d(r),x(a)}),[n]),Object(p.jsxs)(f,{children:[Object(p.jsx)("div",{className:"cover",style:{width:"".concat(u,"px")}}),Object(p.jsx)("div",{className:"thumb",ref:h,style:{left:"".concat(o,"%"),marginLeft:"".concat(l,"px")}}),Object(p.jsx)("input",{type:"range",value:o,ref:j,step:"0.01",className:"range",onChange:e})]})}var v;const y=b.a.section(v||(v=Object(s.a)(["\n  background: transparent;\n  border-radius: 10px;\n  overflow: hidden;\n\n  .overlay {\n    filter: blur(2px);\n    -webkit-filter: blur(2px);\n    height: 123%;\n    width: 120%;\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    position: absolute;\n    top: -10%;\n    left: -10%;\n    opacity: 0.6;\n    clip-path: polygon(0 0, 100% 0, 100% 75%, 80% 93%, 31% 75%, 0 93%);\n  }\n\n  .cover-box {\n    display: flex;\n    position: relative;\n    padding: 20px;\n    background: transparent;\n  }\n\n  .cover-box-text {\n    display: flex;\n    z-index: 1;\n  }\n\n  .titles {\n    padding-left: 20px;\n  }\n\n  .controls-wrapper {\n    padding: 20px;\n    background: rgb(2, 0, 36);\n    background: linear-gradient(\n      180deg,\n      transparent 0%,\n      rgba(255, 255, 255, 1) 100%\n    );\n  }\n\n  .track-time {\n    height: 15px;\n    padding: 5px;\n    color: darkslategray;\n    font-weight: bold;\n    overflow: hidden;\n    display: flex;\n    justify-content: space-between;\n    font-weight: 600;\n  }\n\n  img {\n    width: 200px;\n    height: 200px;\n    box-shadow: 0 5px 15px hsla(0, 0%, 0%, 0.3);\n  }\n\n  .player-box {\n    color: black;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 10px 20px;\n  }\n\n  button {\n    outline: none;\n    cursor: pointer;\n    border-radius: 50%;\n    border-style: none;\n    background: linear-gradient(to bottom, white -100%, #323b44 78%);\n    color: white;\n    box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.4);\n\n    &:active {\n      box-shadow: 0px 6px 16px rgba(0, 0, 0, 0.4);\n    }\n  }\n\n  .play {\n    width: 70px;\n    height: 70px;\n    margin: 0 10px;\n  }\n\n  .prev,\n  .next {\n    width: 50px;\n    height: 50px;\n  }\n\n  .prev-next {\n    display: grid;\n    grid-template-columns: 50% 50%;\n    justify-content: space-between;\n    color: darkslategray;\n    font-weight: 600;\n    font-size: 14px;\n\n    span:last-child {\n      text-align: right;\n    }\n  }\n"])));function w({song:n,isPaused:e,onPreviousSong:t,onNextSong:r,onPlayBtn:a,onChange:o,percentage:c,currentTime:i,duration:s,previousSong:b,nextSong:g}){const u=n.coverUrl,x=n.title,O=n.artist,f=b&&b.title&&"Previous: ".concat(b.title),v=g&&g.title&&"Next: ".concat(g.title);return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(y,{children:[Object(p.jsxs)("div",{className:"cover-box",children:[Object(p.jsxs)("div",{className:"cover-box-text",children:[Object(p.jsx)("img",{width:"250",height:"250",src:u,alt:"Song cover"}),Object(p.jsxs)("div",{className:"titles",children:[Object(p.jsx)("h2",{children:x}),Object(p.jsxs)("h4",{children:["by ",O]})]})]}),Object(p.jsx)("div",{className:"overlay",style:{background:"linear-gradient(0deg, rgba(0, 10, 40, 0.5), rgba(0, 15, 40, 0.6)), url(".concat(u,")")}})]}),Object(p.jsxs)("div",{className:"controls-wrapper",children:[Object(p.jsxs)("div",{className:"track-time",children:[Object(p.jsx)("span",{children:i}),Object(p.jsx)("span",{children:s})]}),Object(p.jsx)(m,{percentage:c,onChange:o}),Object(p.jsxs)("div",{className:"player-box",children:[Object(p.jsx)("button",{className:"prev",onClick:t,children:Object(p.jsx)(j.a,{})}),Object(p.jsx)("button",{className:"play",onClick:a,children:e?Object(p.jsx)(l.a,{}):Object(p.jsx)(d.a,{})}),Object(p.jsx)("button",{className:"next",onClick:r,children:Object(p.jsx)(h.a,{})})]}),Object(p.jsxs)("div",{className:"prev-next",children:[Object(p.jsx)("span",{children:f}),Object(p.jsx)("span",{children:v})]})]})]})})}var k;const S=b.a.div(k||(k=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n  color: white;\n  background: rgb(228, 234, 239);\n  background: radial-gradient(circle, #e4eaef -13%, #43505b 98%);\n  min-height: 100vh;\n\n  .container {\n    width: 550px;\n    box-shadow: 0 5px 15px hsla(0, 0%, 0%, 0.3);\n    border-radius: 10px;\n    background: white;\n  }\n\n  .loading {\n    color: white;\n    font-weight: 800;\n  }\n\n  .songs {\n    color: darkslategray;\n    background-color: white;\n    padding: 20px;\n    border-radius: 0px 0px 10px 10px;\n    h2 {\n      padding-bottom: 15px;\n    }\n  }\n"])));function N(){const n=Object(a.useRef)(),e=function(n){const e=Object(a.useState)([]),t=Object(O.a)(e,2),r=t[0],o=t[1],c=Object(a.useState)(0),i=Object(O.a)(c,2),s=i[0],l=i[1],d=Object(a.useState)(!0),b=Object(O.a)(d,2),g=b[0],p=b[1],u=Object(a.useState)(0),x=Object(O.a)(u,2),j=x[0],h=x[1],f=Object(a.useState)(0),m=Object(O.a)(f,2),v=m[0],y=m[1],w=Object(a.useState)(0),k=Object(O.a)(w,2),S=k[0],N=k[1];Object(a.useEffect)((()=>{fetch("https://examples.devmastery.pl/songs-api/songs").then((n=>{n.ok&&n.json().then(o)}))}),[]);const C=r[s],P=r[s-1],T=r[s+1];function U(n){setTimeout((()=>{n.current.play()}))}function B(){p((n=>!n)),g?n.current.play():n.current.pause()}function I(n){if(!n)return"00:00";let e=parseInt(n/60).toString().padStart(2,"0"),t=parseInt(n%60).toString().padStart(2,"0");return"".concat(e,":").concat(t)}return{mainConfig:{songs:r,currentSongIndex:s,percentage:j,duration:v,setDuration:y,getCurrentDuration:n=>{const e=(n.currentTarget.currentTime/n.currentTarget.duration*100).toFixed(2),t=n.currentTarget.currentTime;h(+e),N(t.toFixed(2))},currentSong:C},songPlayerConfig:{song:C,previousSong:P,nextSong:T,isPaused:g,onPreviousSong:function(){l((n=>n>0?n-1:r.length-1)),g||U(n)},onNextSong:function(){l((n=>r.length>n+1?n+1:0)),g||U(n)},onPlayBtn:B,onChange:e=>{const t=n.current;t.currentTime=t.duration/100*e.target.value,h(e.target.value)},currentTime:I(S),duration:I(v),percentage:j},songListItemConfig:{onSelect:function(n){const e=r.findIndex((e=>e.audioUrl===n.audioUrl));e>=0&&l(e)},onPlayBtn:B,isPaused:g,currentTime:I(S)}}}(n),t=e.mainConfig,r=e.songPlayerConfig,o=e.songListItemConfig;return Object(p.jsx)(S,{children:0===t.songs.length?Object(p.jsx)("h3",{className:"loading",children:"'Loading...'"}):Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(w,Object(i.a)({},r)),Object(p.jsxs)("div",{className:"songs",children:[Object(p.jsx)("h2",{children:"Songs"}),Object(p.jsx)("ul",{children:t.songs.map((n=>Object(p.jsx)(u,Object(i.a)({song:n,isCurrent:t.currentSong.audioUrl===n.audioUrl},o),n.audioUrl)))})]}),Object(p.jsx)("audio",{ref:n,onLoadedData:n=>{t.setDuration(n.currentTarget.duration.toFixed(2))},onTimeUpdate:t.getCurrentDuration,children:Object(p.jsx)("source",{src:t.currentSong.audioUrl})},t.currentSong.audioUrl)]})})}t(29);const C=document.getElementById("root");c.a.render(Object(p.jsx)(a.StrictMode,{children:Object(p.jsx)(N,{})}),C)}},[[30,1,2]]]);
//# sourceMappingURL=main.c4c6ea6b.chunk.js.map