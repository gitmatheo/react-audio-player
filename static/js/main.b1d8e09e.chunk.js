(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{29:function(n,e,t){},30:function(n,e,t){"use strict";t.r(e);var r,o=t(0),a=t(14),c=t.n(a),i=t(12),s=t(4),l=t(42),d=t(43),u=t(5);const p=u.a.li(r||(r=Object(s.a)(["\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  &.selected {\n    background-color: slategray;\n    background: linear-gradient(to right, white -100%, #323b44 78%);\n    color: white;\n    font-weight: bold;\n    cursor: pointer;\n  }\n\n  .col {\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    p {\n      padding: 10px 20px;\n    }\n\n    img {\n      height: 50px;\n      margin: 5px 0px 5px 5px;\n    }\n  }\n\n  .play-btn {\n    background: transparent;\n    padding: 0 20px 0 15px;\n    color: white;\n    border: none;\n    cursor: pointer;\n    outline: none;\n  }\n"])));var b=t(1);function g({song:n,isCurrent:e,isPaused:t,currentTime:r,onSelect:o,onPlayPause:a}){return Object(b.jsxs)(p,{className:"".concat(e?"selected":null),onClick:function(){o(n)},children:[Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("img",{src:n.coverUrl}),Object(b.jsxs)("p",{children:[n.title," by ",n.artist]})]}),e&&Object(b.jsxs)("div",{className:"col",children:[Object(b.jsx)("span",{children:r}),Object(b.jsx)("button",{className:"play-btn",onClick:a,children:t?Object(b.jsx)(l.a,{}):Object(b.jsx)(d.a,{})})]})]})}var x,j=t(44),h=t(45),O=t(46),m=t(47),f=t(48),v=t(2);const y=u.a.div(x||(x=Object(s.a)(["\n  --progress-bar-height: 4px;\n\n  position: relative;\n  width: 100%;\n  background: transparent;\n\n  .range {\n    -webkit-appearance: none;\n    background-color: rgba(240, 9, 9, 0.397);\n    height: 10px;\n    width: 100%;\n    cursor: pointer;\n    opacity: 0;\n    margin: 0 auto;\n  }\n\n  &::before {\n    content: '';\n    background-color: slategrey;\n    width: 99%;\n    height: calc(var(--progress-bar-height) - 1px);\n    display: block;\n    position: absolute;\n    border-radius: 10px;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    pointer-events: none;\n  }\n\n  .cover {\n    background-color: rgb(218, 55, 145);\n    width: 0%;\n    height: var(--progress-bar-height);\n    display: block;\n    position: absolute;\n    border-radius: 10px;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n\n  .thumb {\n    width: 20px;\n    height: 20px;\n    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.753);\n    background: rgb(255, 255, 255);\n    position: absolute;\n    border-radius: 50%;\n    top: 50%;\n    transform: translate(0%, -50%);\n  }\n"])));function k({percentage:n=0,onChange:e}){const t=Object(o.useState)(0),r=Object(v.a)(t,2),a=r[0],c=r[1],i=Object(o.useState)(0),s=Object(v.a)(i,2),l=s[0],d=s[1],u=Object(o.useState)(0),p=Object(v.a)(u,2),g=p[0],x=p[1],j=Object(o.useRef)(),h=Object(o.useRef)();return Object(o.useEffect)((()=>{const e=j.current.getBoundingClientRect().width,t=h.current.getBoundingClientRect().width,r=t/100*n*-1,o=t+e/100*n-t/100*n;c(n),d(r),x(o)}),[n]),Object(b.jsxs)(y,{children:[Object(b.jsx)("div",{className:"cover",style:{width:"".concat(g,"px")}}),Object(b.jsx)("div",{className:"thumb",ref:h,style:{left:"".concat(a,"%"),marginLeft:"".concat(l,"px")}}),Object(b.jsx)("input",{type:"range",value:a,ref:j,step:"0.01",className:"range",onChange:e})]})}var w;const S=u.a.section(w||(w=Object(s.a)(["\n  background: transparent;\n  border-radius: 10px;\n  overflow: hidden;\n\n  .overlay {\n    filter: blur(2px);\n    -webkit-filter: blur(2px);\n    height: 123%;\n    width: 120%;\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    position: absolute;\n    top: -10%;\n    left: -10%;\n    opacity: 0.6;\n    clip-path: polygon(0 0, 100% 0, 100% 75%, 80% 93%, 31% 75%, 0 93%);\n  }\n\n  .cover-box {\n    display: flex;\n    position: relative;\n    padding: 20px;\n    background: transparent;\n  }\n\n  .cover-box-text {\n    display: flex;\n    z-index: 1;\n  }\n\n  .titles {\n    padding-left: 20px;\n  }\n\n  .controls-wrapper {\n    padding: 20px;\n    background: rgb(2, 0, 36);\n    background: linear-gradient(\n      180deg,\n      transparent 0%,\n      rgba(255, 255, 255, 1) 100%\n    );\n  }\n\n  .track-time {\n    height: 15px;\n    padding: 5px;\n    color: darkslategray;\n    font-weight: bold;\n    overflow: hidden;\n    display: flex;\n    justify-content: space-between;\n    font-weight: 600;\n  }\n\n  img {\n    width: 200px;\n    height: 200px;\n    box-shadow: 0 5px 15px hsla(0, 0%, 0%, 0.3);\n  }\n\n  .player-box {\n    color: black;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 10px 20px;\n  }\n\n  button {\n    outline: none;\n    cursor: pointer;\n    border-radius: 50%;\n    border-style: none;\n    background: linear-gradient(to bottom, white -100%, #323b44 78%);\n    color: white;\n    box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.4);\n    margin: 0 7px;\n\n    &:active {\n      box-shadow: 0px 6px 16px rgba(0, 0, 0, 0.4);\n    }\n  }\n\n  .play {\n    width: 70px;\n    height: 70px;\n  }\n\n  .prev,\n  .next {\n    width: 50px;\n    height: 50px;\n  }\n\n  .mute,\n  .loop {\n    font-size: 12px;\n    width: 35px;\n    height: 35px;\n  }\n\n  .active {\n    color: rgb(218, 55, 145);\n  }\n\n  .prev-next {\n    display: grid;\n    grid-template-columns: 50% 50%;\n    justify-content: space-between;\n    color: darkslategray;\n    font-weight: 600;\n    font-size: 14px;\n\n    span:last-child {\n      text-align: right;\n    }\n  }\n"])));function N({song:n,isPaused:e,isMuted:t,isLooping:r,onLoop:o,onMute:a,onSkipToPreviousSong:c,onSkipToNextSong:i,onPlayPause:s,onChange:u,percentage:p,currentTime:g,duration:x,previousSong:v,nextSong:y}){const w=n.coverUrl,N=n.title,C=n.artist,P=(null===v||void 0===v?void 0:v.title)&&"Previous: ".concat(v.title),T=(null===y||void 0===y?void 0:y.title)&&"Next: ".concat(y.title);return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(S,{children:[Object(b.jsxs)("div",{className:"cover-box",children:[Object(b.jsxs)("div",{className:"cover-box-text",children:[Object(b.jsx)("img",{src:w,alt:"Song cover"}),Object(b.jsxs)("div",{className:"titles",children:[Object(b.jsx)("h2",{children:N}),Object(b.jsxs)("h4",{children:["by ",C]})]})]}),Object(b.jsx)("div",{className:"overlay",style:{background:"linear-gradient(0deg, rgba(0, 10, 40, 0.5), rgba(0, 15, 40, 0.6)), url(".concat(w,")")}})]}),Object(b.jsxs)("div",{className:"controls-wrapper",children:[Object(b.jsxs)("div",{className:"track-time",children:[Object(b.jsx)("span",{children:g}),Object(b.jsx)("span",{children:x})]}),Object(b.jsx)(k,{percentage:p,onChange:u}),Object(b.jsxs)("div",{className:"player-box",children:[Object(b.jsx)("button",{className:"mute",onClick:a,children:t?Object(b.jsx)(j.a,{}):Object(b.jsx)(h.a,{})}),Object(b.jsx)("button",{className:"prev",onClick:c,children:Object(b.jsx)(O.a,{})}),Object(b.jsx)("button",{className:"play",onClick:s,children:e?Object(b.jsx)(l.a,{}):Object(b.jsx)(d.a,{})}),Object(b.jsx)("button",{className:"next",onClick:i,children:Object(b.jsx)(m.a,{})}),Object(b.jsx)("button",{className:"loop ".concat(r&&"active"),onClick:o,children:Object(b.jsx)(f.a,{})})]}),Object(b.jsxs)("div",{className:"prev-next",children:[Object(b.jsx)("span",{children:P}),Object(b.jsx)("span",{children:T})]})]})]})})}var C;const P=u.a.div(C||(C=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n  color: white;\n  background: rgb(228, 234, 239);\n  background: radial-gradient(circle, #e4eaef -13%, #43505b 98%);\n  min-height: 100vh;\n\n  .container {\n    width: 550px;\n    box-shadow: 0 5px 15px hsla(0, 0%, 0%, 0.3);\n    border-radius: 10px;\n    background: white;\n  }\n\n  .loading {\n    color: white;\n    font-weight: 800;\n  }\n\n  .songs {\n    color: darkslategray;\n    background-color: white;\n    padding: 20px;\n    border-radius: 0px 0px 10px 10px;\n    h2 {\n      padding-bottom: 15px;\n    }\n  }\n"])));function T(){const n=Object(o.useRef)(),e=function(n){const e=Object(o.useState)([]),t=Object(v.a)(e,2),r=t[0],a=t[1],c=Object(o.useState)(0),i=Object(v.a)(c,2),s=i[0],l=i[1],d=Object(o.useState)(!0),u=Object(v.a)(d,2),p=u[0],b=u[1],g=Object(o.useState)(!1),x=Object(v.a)(g,2),j=x[0],h=x[1],O=Object(o.useState)(!1),m=Object(v.a)(O,2),f=m[0],y=m[1],k=Object(o.useState)(0),w=Object(v.a)(k,2),S=w[0],N=w[1],C=Object(o.useState)(0),P=Object(v.a)(C,2),T=P[0],U=P[1],L=Object(o.useState)(0),I=Object(v.a)(L,2),D=I[0],M=I[1];Object(o.useEffect)((()=>{fetch("https://examples.devmastery.pl/songs-api/songs").then((n=>{n.ok&&n.json().then(a)}))}),[]);const R=r[s],z=r[s-1],F=r[s+1];function B(e){e.stopPropagation(),b((n=>!n)),p?n.current.play():n.current.pause()}function E(){setTimeout((()=>{p||n.current.play(),j&&(n.current.muted=!0),f&&(n.current.loop=!0)}))}function J(n){if(!n)return"00:00";let e=parseInt(n/60).toString().padStart(2,"0"),t=parseInt(n%60).toString().padStart(2,"0");return"".concat(e,":").concat(t)}return{mainConfig:{songs:r,currentSongIndex:s,percentage:S,duration:T,setDuration:U,getCurrentDuration:n=>{const e=(n.currentTarget.currentTime/n.currentTarget.duration*100).toFixed(2),t=n.currentTarget.currentTime;N(+e),M(t.toFixed(2))},currentSong:R},songPlayerConfig:{song:R,isMuted:j,previousSong:z,isPaused:p,nextSong:F,isLooping:f,onPlayPause:B,onMute:function(){h(!n.current.muted),n.current.muted=!j},onLoop:function(){y(!n.current.loop),n.current.loop=!f},onSkipToPreviousSong:function(){l((n=>n>0?n-1:r.length-1)),E()},onSkipToNextSong:function(){l((n=>r.length>n+1?n+1:0)),E()},onChange:e=>{const t=n.current;t.currentTime=t.duration/100*e.target.value,N(e.target.value)},currentTime:J(D),duration:J(T),percentage:S},songListItemConfig:{isPaused:p,onPlayPause:B,onSelect:function(n){const e=r.findIndex((e=>e.audioUrl===n.audioUrl));e>=0&&l(e),E()},currentTime:J(D)}}}(n),t=e.mainConfig,r=e.songPlayerConfig,a=e.songListItemConfig;return Object(b.jsx)(P,{children:0===t.songs.length?Object(b.jsx)("h3",{className:"loading",children:"'Loading...'"}):Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(N,Object(i.a)({},r)),Object(b.jsxs)("div",{className:"songs",children:[Object(b.jsx)("h2",{children:"Songs"}),Object(b.jsx)("ul",{children:t.songs.map((n=>Object(b.jsx)(g,Object(i.a)({song:n,isCurrent:t.currentSong.audioUrl===n.audioUrl},a),n.audioUrl)))})]}),Object(b.jsx)("audio",{ref:n,onLoadedData:n=>{t.setDuration(n.currentTarget.duration.toFixed(2))},onTimeUpdate:t.getCurrentDuration,children:Object(b.jsx)("source",{src:t.currentSong.audioUrl})},t.currentSong.audioUrl)]})})}t(29);const U=document.getElementById("root");c.a.render(Object(b.jsx)(o.StrictMode,{children:Object(b.jsx)(T,{})}),U)}},[[30,1,2]]]);
//# sourceMappingURL=main.b1d8e09e.chunk.js.map